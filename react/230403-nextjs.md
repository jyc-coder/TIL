# next.js


## next.js ?
### 1) íŠ¹ì§•

`next.js` ëŠ” ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§, ë™ì  ë¼ìš°íŒ… ë“±ì„ ì•„ì£¼ ì†ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” ê°•ë ¥í•œ ë¦¬ì•¡íŠ¸ í”„ë ˆì„ì›Œí¬ì´ë‹¤.

ì•„ë˜ì™€ ê°™ì€ íŠ¹ì§•ì„ ê°€ì§€ê³  ìˆë‹¤

- **ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§** ì§€ì› (ì„œë²„ì—ì„œ ë Œë”ë§ì„ í•´ì„œ ë„˜ê²¨ì¤Œ) 
- ê¸°ë³¸ì ìœ¼ë¡œ ì‚¬ì „ ë Œë”ë§ ì§€ì› (ë¹Œë“œí•  ë•Œ ë¯¸ë¦¬ HTML ì„ ë§Œë“¤ì–´ë†“ìŒ)
- ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ìœ¼ë¡œ ì¸í•œ ê²€ìƒ‰ ì—”ì§„ ìµœì í™” (ì´ë¯¸ HTML ì´ ì±„ì›Œì ¸ ìˆìœ¼ë¯€ë¡œ, ê²€ìƒ‰ ì—”ì§„ì´ ìš°ë¦¬ ì›¹ í˜ì´ì§€ ì •ë³´ë¥¼ ì›í™œí•˜ê²Œ ìˆ˜ì§‘í•  ìˆ˜ ìˆìŒ)
- ë™ì  ë¼ìš°íŒ… ì§€ì› (react-router-dom í•„ìš”ì—†ì´ ê·¸ëƒ¥ íŒŒì¼ì„ ë§Œë“œëŠ” ê²ƒë§Œìœ¼ë¡œ ìë™ìœ¼ë¡œ route ê°€ êµ¬ì„±ë¨)
- ê°„ë‹¨í•œ API ì„œë²„ êµ¬ì¶• ì§€ì›
- ì´ë¯¸ì§€, í°íŠ¸ ìµœì í™” ì§€ì›
- ê¸°ë³¸ì ìœ¼ë¡œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì§€ì›
- ì½”ë“œ ë¶„í•  ì§€ì› (ë”°ë¡œ ì„¤ì •í•˜ì§€ ì•Šì•„ë„, ì•Œì•„ì„œ ë²ˆë“¤ì„ ì¡°ê°ë‚´ì–´ì„œ í•„ìš”í•œ ë¶€ë¶„ë§Œ ì „ì†¡í•¨)
- ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ + ì‚¬ì „ ë Œë”ë§ + ì½”ë“œ ë¶„í• ë¡œ ì¸í•œ ë¹ ë¥¸ ë¡œë”©

### 2) ë Œë”ë§ ë°©ì‹


1. **í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë Œë”ë§(CSR)**

ê¸°ë³¸ì ìœ¼ë¡œ SPAëŠ” í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë Œë”ë§ ë°©ì‹ìœ¼ë¡œ êµ¬í˜„ë˜ê³  ìˆë‹¤.

ë¦¬ì•¡íŠ¸ì˜ index.htmlì€ ì•„ë˜ì™€ ê°™ì´ êµ¬ì„±ë˜ì—ˆì—ˆë‹¤.

![](https://velog.velcdn.com/images/jhs000123/post/ee71e5ff-032c-4dfe-9cff-b10f5226164f/image.png)

ë¦¬ì•¡íŠ¸ëŠ” ìš°ì„  index.htmlì„ ë˜ì§€ê³ , ê·¸ ë‹¤ìŒì— í•„ìš”í•œ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¤ë©´ì„œ(í•´ë‹¹ ìŠ¤í¬ë¦½íŠ¸ê°€
ì‹¤í–‰ë˜ë©´ì„œ) ìš°ë¦¬ê°€ ì‘ì„±í•œ ì»´í¬ë„ŒíŠ¸ê°€ í‘œì‹œë˜ëŠ” ë°©ì‹œê¸ë¡œ ì‘ë™í•œë‹¤.

ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ëŠ” ì£¼ì²´ëŠ” ë°”ë¡œ ì‚¬ì´íŠ¸ì— ì ‘ì†í•œ `ì´ìš©ì`ì´ë‹¤.

CSRë¡œ êµ¬í˜„ëœ í˜ì´ì§€ëŠ” htmlë§Œ ë³´ì•˜ì„ ë•ŒëŠ” ìš”ì†Œë“¤ì´ ë¹„ì›Œì ¸ ìˆë‹¤. ê·¸ë ‡ì§€ë§Œ ì‚¬ì´íŠ¸ì— ì‚¬ìš©ìê°€ ì ‘ì†í•´ì„œ, ìë°”ìŠ¤í¬ë¦½íŠ¸ê°€ ì‹¤í–‰ë˜ëŠ” ìˆœê°„ ìš”ì†Œë“¤ì´ ì±„ì›Œì§€ê¸° ì‹œì‘í•˜ëŠ” ê²ƒì´ë‹¤.
ë”°ë¼ì„œ ìš”ì†Œë“¤ì„ ê·¸ë¦¬ëŠ” ì£¼ì²´ê°€ í´ë¼ì´ì–¸íŠ¸ë¼ëŠ” ì ì—ì„œ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë Œë”ë§ì´ë¼ê³  ë§í•˜ëŠ” ê²ƒì´ë‹¤.


**ê·¸ëŸ¼ ì´ê²ƒë§Œ ì¨ë„ ìƒê´€ì—†ë‚˜ìš”? ğŸ˜Š**
ì•„ë‡¨ ê·¸ë¬ìœ¼ë©´ ì´ëŸ°ê±° ì•ˆë°°ìš°ì£ . ë§ˆëƒ¥ ì¢‹ì€ê²ƒë§Œì€ ì•„ë‹ˆë‹¤.
- ì‚¬ìš©ìê°€ ì²« í™”ë©´ì„ ë³´ê¸°ê¹Œì§€ì˜ ì‹œê°„ì´ ì˜¤ë˜ê±¸ë¦°ë‹¤.(í™”ë©´ì„ ê·¸ë¦¬ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ê°€ ì‹¤í–‰ë˜ê¸° ì „ê¹Œì§€ ì‚¬ìš©ìëŠ” ë¹ˆ í™”ë©´ì„ ì³ë‹¤ë´ì•¼í•œë‹¤.)
- htmlì´ ë¹„ì–´ìˆê¸° ë•Œë¬¸ì—, ê²€ìƒ‰ ì—”ì§„ì´ ìš°ë¦¬ í˜ì´ì§€ì˜ ì •ë³´ë¥¼ ì›í™œí•˜ê²Œ ìˆ˜ì§‘í• ìˆ˜ê°€ ì—†ë‹¤.

ì´ëŸ° ë‹¨ì ë“¤ì„ ë³´ì•ˆí•˜ê¸° ìœ„í•´ì„œ

2. ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ (SSR)
ì–˜ê°€ ë‚˜ì˜¨ ê²ƒì´ë‹¤.

ë§ ê·¸ëŒ€ë¡œ ìš”ì†Œë“¤ì„ ê·¸ë¦¬ëŠ” ì£¼ì²´ê°€ `ì„œë²„` ê°€ ë˜ëŠ” ê²ƒì´ë‹¤.
ì‚¬ìš©ìê°€ ì‚¬ì´íŠ¸ì— ì ‘ì†í•˜ëŠ” ìˆœê°„, ì„œë²„ëŠ” htmlì—ë‹¤ê°€ ìš”ì†Œë“¤ì„ ê·¸ë¦¬ê³ , ìš”ì†Œë“¤ì´ ê·¸ë ¤ì§„ html íŒŒì¼ê³¼ í•¨ê³„ í•„ìš”í•œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ì‚¬ìš©ìì—ê²Œ ë³´ë‚¸ë‹¤.
ê·¸ë ‡ê²Œ ë˜ë©´ ì‚¬ìš©ìê°€ ë°›ëŠ” íŒŒì¼ì€ ë¹ˆ íŒŒì¼ì´ ì•„ë‹ˆë¼, ìš”ì†Œë“¤ì´ ì±„ì›Œì ¸ìˆëŠ” html íŒŒì¼ì´ ëœë‹¤.

> ìš”ì†Œë“¤ì´ ê·¸ë ¤ì ¸ìˆë‹¤ê³  í•´ì„œ ì‹¤ì œë¡œ ì‚¬ìš©ìì™€ì˜ ì¸í„°ë ‰ì…˜(í´ë¦­) ì´ ê°€ëŠ¥í•œ ê²ƒì€ ì•„ë‹ˆë‹¤

SSRì˜ íŠ¹ì§•ì€
- í˜ì´ì§€ ë¡œë”©ì´ ë¹¨ë¼ì§
- ê²€ìƒ‰ ì—”ì§„ ìµœì í™”(SEO)ê°€ ê°€ëŠ¥í•˜ë‹¤!

<img src=https://velog.velcdn.com/images/jhs000123/post/fcfbc6c8-e7e3-4ea4-83e7-4a19d8cd2944/image.jpg width="200px" height="200px"></img>


<div align="center">ì˜¤! ê·¸ëŸ¼ ì´ê²ƒë§Œ ì“°ë©´ ë˜ê² ë„¤! SEOë„ ê°€ëŠ¥í•˜ë©´ ì¢‹ì€ê±°ì–ì•„ </div>

ê¼­ ê·¸ë ‡ì§„ ì•Šë‹¤

**ë‹¨ì **
- ì„œë²„ê°€ ìš”ì†Œë¥¼ ê·¸ë ¤ì•¼ í•˜ê¸° ë•Œë¬¸ì—, ì„œë²„ì— ë¶€í•˜ê°€ ê±¸ë¦°ë‹¤
- ì‚¬ìš©ìê°€ ì‚¬ì´íŠ¸ë¥¼ ë³¸ ìˆœê°„ (Time To View) ê³¼ ì¸í„°ë ‰ì…˜ì´ ê°€ëŠ¥í•œ ìˆœê°„ (Time To Interact)ì˜ ì°¨ì´ê°€ ë°œìƒí•¨ (ìš”ì†Œê°€ ê·¸ë ¤ì§€ê¸°ë§Œ í•˜ê³ , ì•„ì§ ìë°” ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œê°€ ì‹¤í–‰ë˜ì§€ëŠ” ì•Šì•˜ê¸° ë•Œë¬¸)
- ìƒˆë¡œê³ ì¹¨ì‹œ í˜ì´ì§€ë¥¼ ë‹¤ì‹œ ì„œë²„ì—ì„œ ë°›ì•„ì™€ì•¼í•˜ê¸° ë•Œë¬¸ì—, ìƒˆë¡œê³ ì¹¨ ì‹œ í™”ë©´ì´ ë¹„ì—ˆë‹¤ê°€ ì±„ì›Œì§€ëŠ” Blinking Issue ê°€ ë°œìƒ

![](https://velog.velcdn.com/images/jhs000123/post/de4ad36b-3a8c-46f4-840c-b4ce2515dfdd/image.png)

<div align="center">ë§ˆëƒ¥ ì¢‹ì€ ê²ƒë„ ì•„ë‹ˆë©´ ì´ê±¸ ë˜ ì™œë°°ì›€? ê± react ì“°ì§€</div>

Next.js ì˜ í•µì‹¬ì ì¸ ê¸°ëŠ¥ë•Œë¬¸ì´ë©°, ì´ê²ƒì€ ë°”ë¡œ

### 3) ì •ì  ìƒì„± (Static Stie Generation, SSG)

ì“±

`Static Generation` ì´ë€ íŠ¹ì • í˜ì´ì§€ì˜ HTMLì„ `ë¹Œë“œí•  ë•Œ` ë¯¸ë¦¬ ê·¸ë ¤ë†“ëŠ” ê²ƒì„ ë§í•œë‹¤. (reactë¡œ ë§Œë“  ì•±ì€ ë°°í¬ì‹œì— í•­ìƒ ë¹Œë“œí•˜ëŠ” ê³¼ì •ì´ í•„ìš”í•˜ë‹¤ -> `yarn build`)

ì‚¬ìš©ìê°€ ì‚¬ì´íŠ¸ì— ì ‘ì†í•  ë•Œë§ˆë‹¤ ì„œë²„ê°€ ì§ì ‘ HTMLì„ ê·¸ë¦¬ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ë¯¸ë¦¬ ê·¸ë ¤ë†“ì€ ì±„ë¡œ í•´ë‹¹ HRMLì„ ì €ì¥í•´ë†“ê³ , ì‚¬ìš©ìê°€ ì‚¬ì´íŠ¸ì— ì ‘ì†í•˜ë©´ ì €ì¥í•´ë†“ì€ HTMLì„ ê³µê¸‰í•˜ëŠ” ê²ƒì´ë‹¤.


<img src=https://velog.velcdn.com/images/jhs000123/post/fcfbc6c8-e7e3-4ea4-83e7-4a19d8cd2944/image.jpg width="200px" height="200px"></img>


<div align="center">ì˜¤! ê·¸ëŸ¬ë©´ SSRì˜ ì¥ì ì€ ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ë©´ì„œ, ì„œë²„ì— ëŒ€í•œ ë¶€í•˜ë¥¼ ì¤„ì´ë©´ì„œ, ë¡œë”©ì‹œê°„ì€ í›¨ì”¬ ë” ë¹¨ë¼ì§€ê² êµ¬ë‚˜!</div>

ë°”ë¡œ ê·¸ë ‡ë‹¤. 
Next.js ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë”°ë¡œ ì™¸ë¶€ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ì§€ ì•ŠëŠ” í•œ, í•­ìƒ, static generation ë°©ì‹ìœ¼ë¡œ ì‚¬ì „ ë Œì €ë§ì„ ì§„í–‰í•œë‹¤. (ë”°ë¡œ ì„¤ì •ì„ í•´ì£¼ë©´, ì™¸ë¶€ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ë”ë¼ë„ static generationë°©ì‹ìœ¼ë¡œ ë Œë”ë§ì´ ê°€ëŠ¥í•˜ë‹¤)

ë¬¼ë¡  ì´ëŸ¼ì—ë„ ë‹¨ì ì€ ìˆë‹¤.
- ë¹Œë“œ ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦´ìˆ˜ ìˆìŒ (ë¹Œë“œí•˜ë©´ì„œ HTMLì„ ê·¸ë ¤ë†“ê¸° ë•Œë¬¸ì— ë‹¹ì—°íˆ, í‰ì†Œë³´ë‹¤ ì˜¤ë˜ ê±¸ë¦°ë‹¤.)
- ì˜¤ë˜ëœ ë°ì´í„°ë¥¼ ë¯¸ë¦¬ ê·¸ë ¤ë†“ëŠ” ê²½ìš°, ìœ ì €ê°€ ì˜›ë‚  ë°ì´í„°ë¥¼ ë³´ëŠ” ìƒí™©ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.(í•­ìƒ ì—…ë°ì´íŠ¸ë˜ëŠ” ë°ì´í„°ë¼ë©´, SSB ë³´ë‹¤ëŠ” SSRì„ ì“´ëŠê²ƒì´ ì¢‹ë‹¤)

>next.js ì•±ì„ yarn dev ë¡œ ì‹¤í–‰í•œ ê²½ìš°ì—ëŠ” SSG ë¡œ êµ¬í˜„í•´ë†“ì€ ì½”ë“œë¼ë„ SSR ê³¼ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ì‘ë™í•œë‹¤. (ì•„ì§ ë¯¸ë¦¬ ë¹Œë“œí•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸)

### 3) ì‹œì‘í•˜ê¸°

í•œë²ˆ í•´ë³´ì

> yarn create next-app (ì•± ì´ë¦„) --ts


![](https://velog.velcdn.com/images/jhs000123/post/e7235962-3985-42f7-89b2-850e22f04777/image.png)


ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ê³  ë‚˜ë©´ pages í´ë”ê°€ ìƒì„±ë˜ì–´ìˆëŠ”ë°, ì—¬ê¸°ì— í´ë”ë¥¼ ë§Œë“¤ê±°ë‚˜, íŒŒì¼ ì´ë¦„ì„ ì ìœ¼ë©´ í•´ë‹¹ ì´ë¦„ëŒ€ë¡œ ìë™ìœ¼ë¡œ routeê°€ ì„¤ì •ì´ ëœë‹¤.

`yarn dev`ë¥¼ í†µí•´ì„œ ì„œë²„ë¥¼ ì‹¤í–‰í–ˆì„ë•Œ, ê°€ì¥ ì²˜ìŒ ë³´ì—ëŠ” í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ëŠ” `index.js`ì´ë‹¤.

ê·¸ëŸ°ë° ì‚¬ì‹¤ `_app.js`ì™€ `_document.js`ë¥¼ ê±°ì³ì„œ ìš°ë¦¬ ì›¹ì‚¬ì´íŠ¸ì— í‘œì‹œê°€ ë˜ëŠ” ê²ƒì´ `index.js`ì¸ë°, `_app.js`ëŠ” ì„œë²„ ìì²´ì— ì ‘ê·¼í•˜ë©´ ì œì¼ ë¨¼ì € ì‹¤í–‰ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ì´ë‹¤.


yarn dev ëª…ë ¹ì–´ë¡œ ì‹¤í–‰í•´ë³´ë©´ ë°ëª¨ í˜ì´ì§€ê°€ ë‚˜íƒ€ë‚œë‹¤.

## next.js ê¸°ë³¸ê¸°ëŠ¥

### 1) pages í´ë”ë¥¼ í†µí•œ ë¼ìš°íŒ…

next.jsëŠ” pages í´ë” ì•ˆì— íŒŒì¼ í˜¹ì€ í´ë”ë¥¼ ë§Œë“ ëŠ ê²ƒë§Œìœ¼ë¡œ í•´ë‹¹ íŒŒì¼ ì´ë¦„ìœ¼ë¡œ route ê°€ êµ¬ì„±ëœë‹¤.

ë¿ë§Œ ì•„ë‹ˆë¼ idë²ˆí˜¸ ë“±ì— ë§ì¶”ì–´ í˜ì´ì§€ë¥¼ ë³´ì—¬ì¤˜ì•¼í•˜ëŠ” ê²½ìš°ì˜ ë™ì  ë¼ìš°íŒ…ë„ ì§€ì›í•œë‹¤.
- pages/index.jsx ë¼ê³  í•˜ë©´ í•´ë‹¹ íŒŒì¼ì´ â€˜/â€™ ì£¼ì†Œì— ì—°ê²°
- pages/post.jsx ë¼ê³  í•˜ë©´ í•´ë‹¹ íŒŒì¼ì´ â€˜/postâ€™ ì£¼ì†Œì— ì—°ê²°
- pages/post/index.jsx ë¼ê³  í•˜ë©´ í•´ë‹¹ íŒŒì¼ì´ â€˜/postâ€™ ì£¼ì†Œì— ì—°ê²°
- pages/post/first.jsx ë¼ê³  í•˜ë©´ í•´ë‹¹ íŒŒì¼ì´ â€˜/post/firstâ€™ ì£¼ì†Œì— ì—°ê²°
- pages/post/[id].jsx ë¼ê³  í•˜ë©´ í•´ë‹¹ íŒŒì¼ì´ â€˜/post/1â€™, â€˜/post/2â€™ ë“±ì˜ ë™ì  ì£¼ì†Œì— ì—°ê²° (ì´ë ‡ê²Œ í•˜ë©´ í•´ë‹¹ íŒŒì¼ì—ì„œ useRouter ë¥¼ ì‚¬ìš©í•´ì„œ í•´ë‹¹ id ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆê²Œ ëœë‹¤)
- pages/post/[â€¦params].jsx ë¼ê³  í•˜ë©´ í•´ë‹¹ íŒŒì¼ì´ â€˜/post/*/*/*â€™ ë“±ì˜ ë™ì  ì£¼ì†Œì— ì—°ê²° (route ì˜ ê¹Šì´ë¥¼ ë¬´í•œí•˜ê²Œ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.) (ë‹¨, â€˜/post/1â€™ ë¡œ ì ‘ê·¼í•  ê²½ìš° ìœ„ [id].jsx ê°€ ìš°ì„ í•˜ê²Œ ëœë‹¤.)


í•œë²ˆ ë§Œë“¤ì–´ë³´ì.

![](https://velog.velcdn.com/images/jhs000123/post/96b53383-edbb-4951-a806-81df8781334d/image.png)

ë¦¬ì•¡íŠ¸ ì‘ì—…í•  ë•Œ í•˜ë˜ ëŒ€ë¡œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ë“¯ì´ ì±„ì›Œì£¼ë©´ ëœë‹¤. [id] ì»´í¬ë„ŒíŠ¸ì˜ ê²½ìš°, í•¨ìˆ˜ ì´ë¦„ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, `PostDetail`ë“±ìœ¼ë¡œ ë°”ê¿”ì¤˜ì•¼ í•œë‹¤.

`post[id].jsx`
```jsx
import { useRouter } from 'next/router'
import React from 'react'

function PostDetail() {
    const router = useRouter()
    const { id } = router.query

    return <div>PostDetail {id}</div>
}

export default PostDetail
```
ì´ë ‡ê²Œ ì‘ì„±í•´ë†“ê³  post/1 ë¡œ ì´ë™í•´ë³´ë©´

![](https://velog.velcdn.com/images/jhs000123/post/d0d7c7cf-3776-41e9-903a-b9e4ebbf60c2/image.png)

react-router-dom ì„¤ì¹˜ ì•ˆí–ˆëŠ”ë°ë„ ì´ë ‡ê²Œ ë¼ìš°íŒ…ì´ ê°€ëŠ¥í•˜ë‹¤!



### 2) Link íƒœê·¸ì™€ queryê°ì²´(useRouter)

í˜ì´ì§€ê°„ ì´ë™ ì‹œì—ëŠ” `Link`íƒœê·¸ë¥¼ í™œìš©í•œë‹¤.

`index.js`ì˜ `main`íƒœê·¸ ë¶€ë¶„ì„ ë¹„ìš°ê³ , ì•„ë˜ì²˜ëŸ¼ Link íƒœê·¸ë¥¼ ì¶”ê°€í•œë‹¤.

```jsx
 <Link href='/post'>postë¡œ ê°€ê³ ì‹¶ì–´?</Link>
```

ì´ë ‡ê²Œ í•´ì„œ í•´ë‹¹ ë¬¸êµ¬ë¥¼ í´ë¦­í•˜ë©´ post í˜ì´ì§€ë¡œ ì´ë™í•œë‹¤!

ì—¬ê¸°ì„œ postë¡œ ì´ë™í•˜ë©´ post/index.tsxë¥¼ ìš°ì„ ì‹œí•œë‹¤.

```tsx
'import React from 'react'

function index() {
  return (
    <div>
      í•˜ì´! post í˜ì´ì§€!
    </div>
  )
}

export default index

```

![](https://velog.velcdn.com/images/jhs000123/post/e3545ed8-af87-494d-94e9-f4a680f24532/image.gif)


> Link íƒœê·¸ëŠ” Link íƒœê·¸ê°€ ì‚¬ìš©ìì—ê²Œ ë³´ì´ë©´ (viewport ì•ˆì— ë“¤ì–´ì˜¤ë©´) ìë™ìœ¼ë¡œ í•´ë‹¹ í˜ì´ì§€ë¥¼ ë¯¸ë¦¬ ë¡œë“œ (prefetch) í•œë‹¤. (ì •ì  ìƒì„± ë°©ì‹ìœ¼ë¡œ ì´ìš©í•˜ëŠ” í˜ì´ì§€ë§Œ ë¯¸ë¦¬ ë¡œë“œí•˜ê³ , ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ì„ ì´ìš©í•˜ëŠ” í˜ì´ì§€ì˜ ê²½ìš° Link íƒœê·¸ë¥¼ ëˆŒë €ì„ ë•Œë§Œ ë¡œë“œí•œë‹¤.)


í™•ì¸í•´ë³´ê³  ì‹¶ìœ¼ë©´, yarn build í›„ì— yarn startë¥¼ í•´ì„œ í”„ë¡œë•ì…˜ ëª¨ë“œì—ì„œ í™•ì¸í• ìˆ˜ ìˆë‹¤. (yarn devë¥¼ í†µí•´ ì‹¤í–‰í•œ ê²½ìš°ì—ëŠ” ë¯¸ë¦¬ ë¡œë“œí•˜ì§€ì•ŠìŒ)


ë§Œì•½ì— ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¥¼ í•¨ê»˜ ì „ë‹¬í•˜ê³  ì‹¶ë‹¤ë©´?

```tsx
<Link href='/post?name=hello'>
    nameê³¼ í•¨ê»˜ postë¡œ ê°€ê¸°
</Link>
```

ì´ë ‡ê²Œ í•´ì£¼ë©´ post/index.jsx ë¥¼ router.queryë¥¼ ì‚¬ìš©í•´ì„œ ì¿¼ë¦¬ë¥¼ ê°€ì ¸ì˜¬ìˆ˜ ìˆë‹¤.
```jsx
import { useRouter } from 'next/router'
import React from 'react'

function Post() {
    const router = useRouter()
    const { name } = router.query

    return <div>Post {name}</div>
}

export default Post
```
![](https://velog.velcdn.com/images/jhs000123/post/0d1dc4a8-e2f9-4141-a24f-6db6df28eeb8/image.png)


** ë§Œì•½ ë™ì  ë¼ìš°íŒ…ì´ë¼ë©´? **
```tsx
<Link href='/post/1?name=hello'>
    nameê³¼ í•¨ê»˜ 1ë²ˆ postë¡œ ê°€ê¸°
</Link>
```

ì´ë ‡ê²Œ í•œë‹¤ë©´ PostDetailì—ëŠ” 

```tsx
import { useRouter } from 'next/router'
import React from 'react'

function PostDetail() {
    const router = useRouter()
    const { id, name } = router.query

    return (
        <div>
            PostDetail {id} {name}
        </div>
    )
}

export default PostDetail
```
ìš”ë ‡ê²Œ ì‘ì„±í• ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.

![](https://velog.velcdn.com/images/jhs000123/post/b45ceaf3-7533-4064-8e81-a32b73876603/image.png)


â€¦ ì„ í™œìš©í•´ì„œ ë§Œë“  ê¹Šì´ê°€ ìˆëŠ” route ì— ì ‘ê·¼í•œë‹¤ë©´?
```tsx
<Link href='/post/1/2/3'>
    ê¹Šì´ìˆëŠ” postë¡œ ê°€ê¸°
</Link>
```

`[...params].jsx`
```tsx
import { useRouter } from 'next/router'
import React from 'react'

function PostParams() {
    const router = useRouter()
    console.log(router.query)

    return <div>PostParams</div>
}

export default PostParams
```

![](https://velog.velcdn.com/images/jhs000123/post/6071a76b-827c-42a5-a2f9-2b7e4442e7df/image.png)

íŒŒì¼ëª…ì— ì ì—ˆë˜ ì´ë¦„ìœ¼ë¡œ, ë°°ì—´ í˜•íƒœì˜ ê°’ì´ ë“¤ì–´ê°€ëŠ” ê²ƒì„ ë³¼ìˆ˜ ìˆë‹¤.

ë§Œì•½ Linkíƒœê·¸ê°€ ì•„ë‹ˆë¼ ë²„íŠ¼ìœ¼ë¡œ ì´ë™í•˜ê³  ì‹¶ìœ¼ë©´ `router.push()`ë¥¼ ì‚¬ìš©í•œë‹¤.

```tsx
router.push(url)
```


```tsx
import { useRouter } from 'next/router'
import React from 'react'

function Post() {
    const router = useRouter()
    const { name } = router.query

    return  <div>
            <button onClick={() => router.push('/post/1')}>1ë²ˆ ê¸€ë¡œê°€ê¸°</button>
        </div>
}

export default Post
```

![](https://velog.velcdn.com/images/jhs000123/post/8c6ed17c-395a-414a-88b1-3f2cba398684/image.gif)

- ë¶„ëª…íˆ ì£¼ì†Œì— ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¥¼ ëª…ì‹œí–ˆëŠ”ë° ì»´í¬ë„ŒíŠ¸ì—ì„œ queryì— ì ‘ê·¼ì´ ì•ˆëœë‹¤ë©´?
ì •ì  ìµœì í™”ê°€ ì´ë£¨ì–´ì§„ í˜ì´ì§€ì— ì ‘ê·¼í•˜ëŠ” ê²½ìš°, queryê°€ ë¹ˆ ê°œì²´ë¡œ ì „ë‹¬ëœë‹¤.

ê·¸ëŸ° ê²½ìš°ì—ëŠ” useEffetì™€ í•¨ê»˜ `router.isReady`ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤. `router.isReady`ê°€ trueê°€ ëœë‹¤ë©´, queryë¶€ë¶„ì´ ì±„ì›Œì¡Œìœ¼ë¯€ë¡œ ì´ì œ queryì— ì ‘ê·¼í•´ë„ ëœë‹¤.

```tsx
useEffect(() => {
    if (router.isReady) console.log(router.query)
}, [router.isReady])
```


### 3) ìŠ¤íƒ€ì¼ ì ìš©í•˜ê¸° 
next.js ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ css, css modules, ì¸ë¼ì¸ css (css-in-js), styled-jsx ë¥¼ ëª¨ë‘ ì§€ì›í•œë‹¤.

ë§Œì•½ sass ë¥¼ ì ìš©í•˜ê³  ì‹¶ë‹¤ë©´, ê·¸ë•ŒëŠ” sass ëª¨ë“ˆì„ (ê°œë°œìš© ë””íœë˜ì‹œë¡œ) ì„¤ì¹˜í•´ì•¼ í•œë‹¤.

> yarn add -D sass

ì´ì „ì— ì‚¬ìš©í–ˆë˜ styled-components ë„ ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤. ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì€ ê¸°ì¡´ê³¼ ë‹¤ë¥´ì§€ ì•Šë‹¤.

> yarn add styled-components


postì»´í¬ë„ŒíŠ¸ì— í•œë²ˆ ì ìš©í•´ë³´ì!

```tsx
import { useRouter } from 'next/router'
import React, { useEffect } from 'react'
import styled from 'styled-components'

export const Container = styled.div`
    display: flex;
    flex-direction: column;
`

function Post() {
    const router = useRouter()

    return (
        <Container>
            <button onClick={() => router.push({ pathname: '/post/[id]', query: { id: 1 } })}>1ë²ˆ ê¸€ë¡œê°€ê¸°</button>
            <button onClick={() => router.push({ pathname: '/post/[id]', query: { id: 2 } })}>2ë²ˆ ê¸€ë¡œê°€ê¸°</button>
        </Container>
    )
}

export default Post
```

ì´ë ‡ê²Œ í•´ë†“ê³  ì‹¤í–‰í•˜ë©´?

![](https://velog.velcdn.com/images/jhs000123/post/52b2af10-ca53-4d30-9b6f-bbf586237031/image.png)




![](https://velog.velcdn.com/images/jhs000123/post/dacb64a5-da8c-4dac-897c-510f4be4c6c4/image.png)

???

ì´ëŸ° ì˜¤ë¥˜ê°€ ìƒê¸°ëŠ” ì´ìœ ëŠ” ë°”ë¡œ ìµœì´ˆì— ìš°ë¦¬í•œí…Œ ë³´ì—¬ì§€ëŠ” í˜ì´ì§€(ì„œë²„ê°€ ê³µê¸‰í•œ í˜ì´ì§€/ ì •ì  í˜ì´ì§€) ì™€ ì‹¤ì œë¡œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œê°€ ì‹¤í–‰ë˜ë©´ì„œ ìˆ˜ì •ë˜ëŠ” í˜ì´ì§€ ê°„ì— classNameì´ ì¼ì¹˜í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì´ë‹¤ 

ë”°ë¼ì„œ ì´ê±¸ í•´ê²°í•˜ë ¤ë©´ `next.config.js`ë¥¼ ì•„ë˜ì²˜ëŸ¼ ìˆ˜ì •í•´ì¤˜ì•¼í•œë‹¤.

```tsx
/** @type {import('next').NextConfig} */
const nextConfig = {
  reactStrictMode: true,
  compiler: {
    styledComponents: true
  }
}

module.exports = nextConfig
```


ì´ë ‡ê²Œ í•˜ë©´, ìµœì´ˆ ë¹Œë“œí•  ë•Œì™€ ì„œë²„/í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë Œë”ë§í• ë•Œì˜ classNameì„ ì¼ì¹˜ì‹œì¼œì£¼ê²Œ ëœë‹¤!


styled-components ê´€ë ¨ ì½”ë“œë¥¼ ë¶„ë¦¬í•˜ê³  ì‹¶ë‹¤ë©´, styledí´ë”ì— jsíŒŒì¼ í˜•íƒœë¡œ ë¶„ë¦¬í•´ë†“ê³  ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ëœë‹¤.

`styles/post.js`
```tsx
import styled from "styled-components";

export const Container = styled.div`
    display: flex;
    flex-direction: column
`
```
`pages/post/index.js`

```tsx
import { useRouter } from 'next/router'
import React, { useEffect } from 'react'
import * as S from '@/styles/post'

function Post() {
    const router = useRouter()

    return (
        <S.Container>
            <button onClick={() => router.push({ pathname: '/post/[id]', query: { id: 1 } })}>1ë²ˆ ê¸€ë¡œê°€ê¸°</button>
            <button onClick={() => router.push({ pathname: '/post/[id]', query: { id: 2 } })}>2ë²ˆ ê¸€ë¡œê°€ê¸°</button>
        </S.Container>
    )
}

export default Post
```
![](https://velog.velcdn.com/images/jhs000123/post/49905a91-2142-47e8-b2b3-bd5790142d40/image.png)

ì˜ ì ìš©ë˜ì—ˆë‹¤.





### 4) ì´ë¯¸ì§€ íƒœê·¸

ê¸°ë³¸ img íƒœê·¸ê°€ ì•„ë‹ˆë¼, Image íƒœê·¸ê°€ ë³„ë„ë¡œ ì¡´ì¬í•˜ëŠ” ì´ìœ ëŠ” ë°”ë¡œ `ì„±ëŠ¥ ìµœì í™”` ë•Œë¬¸ì´ë‹¤.
next.js ì˜ imageíƒœê·¸ëŠ” ì•„ë˜ì™€ ê°™ì€ íŠ¹ì§•ì´ ìˆë‹¤
- ì§ì ‘ ë¦¬ì‚¬ì´ì§• í•´ì¤„ í•„ìš”ì—†ì´ ìë™ìœ¼ë¡œ ë·°í¬íŠ¸ì— ë§ì¶°ì¤Œ
- í•´ë‹¹ ë·°í¬íŠ¸ì— ì§„ì…í•  ë•Œë§Œ ì´ë¯¸ì§€ë¥¼ ë¡œë”©
- ë ˆì´ì•„ì›ƒ ì´ë™ì„ ìµœì†Œí™”(Cumulative Layout Shift ë°©ì§€)
- ë””ë°”ì´ìŠ¤ ì¢…ë¥˜ì— ë”°ë¼ ì´ë¯¸ì§€ íŒŒì¼ í¬ê¸°ë¥¼ ì¡°ì ˆí•´ì„œ ê³µê¸‰


ê¸°ë³¸ì ìœ¼ë¡œëŠ” ì•„ë˜ì™€ ê°™ì´ ì“´ë‹¤.

```tsx
import Image from 'next/image';

<Image
  src="/images/profile.jpg" // ì´ë¯¸ì§€ ì£¼ì†Œ, ê²½ë¡œ
  height={144} // CLS ë°©ì§€ë¥¼ ìœ„í•´ ì‚¬ìš©ë¨
  width={144} // CLS ë°©ì§€ë¥¼ ìœ„í•´ ì‚¬ìš©ë¨
  alt="Your Name"
/>
```

ì•„ë˜ì˜ ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•´ì„œ íƒœê·¸ë¥¼ ë§Œë“¤ì–´ë³´ì ì´ë¯¸ì§€ë¥¼ public í´ë”ì— ë„£ì–´ì¤€ë‹¤

![](https://velog.velcdn.com/images/jhs000123/post/19f2ffc1-36ce-487d-bba1-cf03575fea2d/image.png)

nextëŠ” ìë™ìœ¼ë¡œ public í´ë” ë‚´ë¶€ì— ìˆëŠ” íŒŒì¼ë“¤ì„ `ë„ë©”ì¸/íŒŒì¼ëª…` ì„ í†µí•´ì„œ ì ‘ê·¼í• ìˆ˜ ìˆë„ë¡ í•˜ê³  ìˆë‹¤. (Static File Serving)
ê·¸ë˜ì„œ srcì—ëŠ” rmsid `/íŒŒì¼ëª…`ìœ¼ë¡œë§Œ ì‘ì„±í•´ì£¼ë©´ ëœë‹¤!


```tsx
import { useRouter } from 'next/router'
import React, { useEffect } from 'react'
import * as S from '@/styles/post'
import Image from 'next/image'

function Post() {
    const router = useRouter()

    return (
        <S.Container>
            <Image src="/doggy.jpeg" alt="doggy" height={500} width={500} />
            <button onClick={() => router.push({ pathname: '/post/[id]', query: { id: 1 } })}>1ë²ˆ ê¸€ë¡œê°€ê¸°</button>
            <button onClick={() => router.push({ pathname: '/post/[id]', query: { id: 2 } })}>2ë²ˆ ê¸€ë¡œê°€ê¸°</button>
        </S.Container>
    )
}

export default Post
```

![](https://velog.velcdn.com/images/jhs000123/post/fdb90409-092e-44f0-88d0-8b8f8172ae76/image.png)

ì´ë¯¸ì§€ë¥¼ê°€ì ¸ì˜¬ ê²½ìš° height ì™€ widthë¥¼ ì§ì ‘ ëª…ì‹œí•´ì¤˜ì•¼ í•œë‹¤. 

ë§Œì•½ì— ì•„ë˜ì™€ ê°™ì´ import ë¥¼ í†µí•´ì„œ ê°€ì ¸ì˜¬ ê²½ìš°, heightì™€ width ëŠ” í•´ë‹¹ íŒŒì¼ì˜ í¬ê¸°ëŒ€ë¡œ ë§ì¶°ì§„ë‹¤. 

```tsx
import { useRouter } from 'next/router'
import React, { useEffect } from 'react'
import * as S from '@/styles/post'
import Image from 'next/image'
import dogImage from 'public/dog.jpeg'

function Post() {
    const router = useRouter()

    return (
        <S.Container>
            <Image src={dogImage} alt="dog" />
            <button onClick={() => router.push({ pathname: '/post/[id]', query: { id: 1 } })}>1ë²ˆ ê¸€ë¡œê°€ê¸°</button>
            <button onClick={() => router.push({ pathname: '/post/[id]', query: { id: 2 } })}>2ë²ˆ ê¸€ë¡œê°€ê¸°</button>
        </S.Container>
    )
}

export default Post
```

- priority (ì´ ì´ë¯¸ì§€ë¥¼ ì œì¼ ë¨¼ì € ë¶ˆëŸ¬!)
í•´ë‹¹ í˜ì´ì§€ì—ì„œ í•µì‹¬ì ì¸ ìš”ì†Œë¼ë©´, priority ì˜µì…˜ì„ ì£¼ì–´ì•¼í•œë‹¤. ê·¸ëŸ¬ë©´ í•´ë‹¹ ì´ë¯¸ì§€ë¥¼ ë‹¤ë¥¸ ìš”ì†Œë“¤ì— ë¹„í•´ ë¨¼ì € ë¡œë”©í•œë‹¤.

```tsx
<Image src={dogImage} alt="dog" priority />
```

- fill (ê·¸ëƒ¥ ë¶€ëª¨ íƒœê·¸ì— ë§ì¶°ì„œ ì´ë¯¸ì§€ ì±„ì›Œì¤˜)
ì´ê±¸ ì“°ë ¤ë©´ ë¶€ëª¨ ìš”ì†Œê°€ `poistion:relative` ë° `display:block` ì†ì„±ì„ ê°€ì§€ê³  ìˆì–´ì•¼í•œë‹¤.

```tsx
<Image src={dogImage} alt="dog" fill />
```

- sizes(í¬ê¸° ë³„ ì´ë¯¸ì§€ ì œí•œ)
ê¸°ë³¸ì ìœ¼ë¡œ Image íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ë©´ srcSet ì´ë¼ëŠ” ì†ì„±ìœ¼ë¡œ ë””ë°”ì´ìŠ¤ í¬ê¸°ë³„ ì´ë¯¸ì§€ë¥¼ ì§€ì •í•´ì¤€ë‹¤! (ë””ë°”ì´ìŠ¤ í¬ê¸°ê°€ ì‘ìœ¼ë©´ ì‘ì€ ì´ë¯¸ì§€ë¥¼ ì“°ê³ , í¬ë©´ í°ê±° ì“°ê²Œ ì§€ì •í•´ì¤Œ)
ë§Œì•½ ë””ë°”ì´ìŠ¤ í¬ê¸° ë³„ ì´ë¯¸ì§€ë¥¼ ì§€ì •í•˜ê³  ì‹¶ìœ¼ë©´ sizes ì†ì„±ì„ í†µí•´ì„œ ëª…ì‹œí•´ì£¼ë©´ ëœë‹¤.

```jsx
<Image src={dogImage} alt="dog" fill sizes="(max-width: 768px) 33vw, (max-width: 1200px) 50vw, 100vw"/>
```

- ì´ë¯¸ì§€ë¥¼ ì™¸ë¶€ì—ì„œ ê°€ì ¸ì˜¤ëŠ” ê²½ìš° (next.config.js)
ë§Œì•½ì— ì´ë¯¸ì§€ë¥¼ ë§í¬ í˜•íƒœë¡œ ëª…ì‹œí•˜ëŠ” ê±°ë¼ë©´, ì•„ë˜ì™€ ê°™ì´ `next.config.js`ì— í—ˆìš©í•  ë„ë©”ì¸ì„ ì¶”ê°€í•´ì¤˜ì•¼í•œë‹¤!
```jsx
images: {
    remotePatterns: [
      {
        protocol: 'https',
        hostname: 'via.placeholder.com', // ì „ë¶€ í—ˆìš©í•˜ê³ ì í•  ê²½ìš°ì—ëŠ” **
        port: '',
        pathname: '**', // ì „ë¶€ í—ˆìš©í•˜ê³ ì í•  ê²½ìš°ì—ëŠ” **
      },
    ],
  },
```
### 5) í°íŠ¸ ì„¤ì •í•˜ê¸° (next/font) 
next ëŠ” ì›¹í‘¼í†  ë˜í•œ ë¹Œë“œ ì‹œì— ë¯¸ë¦¬ ë°›ì•„ë†“ì„ìˆ˜ ìˆë”°.
[https://fonts.google.com/](https://fonts.google.com/variablefonts) ì— ì¡´ì¬í•˜ëŠ” í°íŠ¸ëŠ” ëª¨ë‘ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

ì•± ì „ì²´ì— Black Han Sansë¥¼ ì ìš©í•´ë³´ì

```tsx
import type { AppProps } from 'next/app'
import { Black_Han_Sans } from 'next/font/google'

const blackHanSans = Black_Han_Sans({
    weight: '400',
    preload: false, // í•œê¸€ í°íŠ¸ë¼ë©´ í•„ìš”í•˜ë‹¤(ì •í™•íˆëŠ” í•œê¸€ subsetì„ ì§€ì›í•˜ì§€ ì•Šì•„ì„œ í•„ìš”)
})
export default function App({ Component, pageProps }: AppProps) {
    return (
        <main className={blackHanSans.className}>
            <Component {...pageProps} />
        </main>
    )
}

```

ì´ë ‡ê²Œ í•´ì£¼ë©´ ì»´í¬ë„ŒíŠ¸ ì „ì²´ì˜ í°íŠ¸ê°€ Black Han Sansë¡œ ì ìš©ëœë‹¤.
í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ì—ë„ ë™ì¼í•˜ê²Œ ì‚¬ìš©í• ìˆ˜ ìˆê¸° ë•Œë¬¸ì—, íŠ¹ì •í•œ ë¶€ë¶„ì—ë§Œ í°íŠ¸ë¥¼ ì ìš©í•˜ê³  ì‹¶ë‹¤ë©´ ìœ„ì™€ ê°™ì´ ì‘ì„±í•˜ê³  jsxìš”ì†Œì—ë‹¤ê°€ classNameì„ í• ë‹¹í•´ì£¼ë©´ ëœë‹¤.

ê·¸ëŸ¼ ë§Œì•½ styled-componentì™€ í•¨ê»˜ ì‚¬ìš©í•˜ê³  ì‹¶ìœ¼ë©´..?

### 6) font ì„¤ì •í•˜ê¸° (styled-componentì™€ í•¨ê»˜ ì‚¬ìš©í•˜ê¸°)

https://hangeul.naver.com/font

ì—¬ê¸°ë¡œ ë“¤ì–´ê°€ì„œ ë‚˜ëˆ” ê¸€ê¼´ì„ ë‹¤ìš´ë¡œë“œ ë°›ê³  ê·¸ì¤‘ì—ì„œ ë‚˜ëˆ” ë°”ë¥¸íœ í°íŠ¸ë¥¼ ì‚¬ìš©í•˜ë ¤ê³  í•œë‹¤. 

styled componentì—ì„œ fontë¥¼ ì‚¬ìš©í• ë•ŒëŠ” global styleì„ í™œìš©í–ˆì—ˆë‹¤. ë”°ë¼ì„œ globalstyleì„ ìœ„í•œ íŒŒì¼ì„ ë§Œë“ ë‹¤.

`styles/globalStyle.js`

```jsx
import { createGlobalStyle } from 'styled-components'

export const GlobalStyle = createGlobalStyle`
    @font-face {
        font-family: Nanum Barun Pen;
        src: url('/fonts/NanumBarunpenR.ttf');
    }

    body {
        font-family: Nanum Barun Pen;
    }
`

```
`pages/_app.js`
```jsx
import { GlobalStyle } from "@/styles/globalStyle";

export default function App({ Component, pageProps }) {
  return <><GlobalStyle/><Component {...pageProps} /></>
}
```
![](https://velog.velcdn.com/images/jhs000123/post/bdb2fa1e-dc99-4895-8eec-062ba15109c6/image.png)

ê¸€ê¼´ì´ ì ìš©ëœ ëª¨ìŠµì´ë‹¤.

- FOUT í•´ê²°í•˜ê¸°

ìƒˆë¡œê³ ì¹¨ì„ í• ë•Œë§ˆë‹¤ ê¸€ìê°€ ê¹œë¹¡ê±°ë¦¬ëŠ” í˜„ìƒì´ ìˆë‹¤. ì´ë¥¼ FOUT í˜„ìƒì´ë¼ê³  í•˜ëŠ”ë° (Flash of Unstyled Text) styled componentê°€ ìƒˆë¡œê³ ì¹¨í• ë•Œë§ˆë‹¤ í°íŠ¸ë¥¼ ë¶ˆëŸ¬ì™€ì„œ ìƒê¸°ëŠ” í˜„ìƒì´ë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” í•´ë‹¹ í°íŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë¶€ë¶„ì„ ë”°ë¡œ cssí˜•íƒœë¡œ ë¶„ë¦¬í•´ì•¼í•œë‹¤.

** ë‹¤ì‹œ ë§í•´ì„œ í°íŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë¶€ë¶„ì€ styled componentë¥¼ ì‚¬ìš©í•˜ì§€ ë§ë¼ëŠ” ëœ» **

ì´ë ‡ê²Œ global.css ì— í°íŠ¸ ê´€ë ¨ ì½”ë“œë¥¼ ì¶”ê°€í•˜ê³ 
`global.css `
```tsx
@font-face {
  font-family: Nanum Barun Pen;
  src: url('/fonts/NanumBarunpenR.ttf');
}

body {
  font-family: Nanum Barun Pen;
}
```

app.js ì— ì‘ì„±í–ˆë˜ GlobalStyle ë‚´ìš©ì„ ì‚­ì œí•˜ê³  ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í•œë‹¤. 
`_app.js`
```tsx
import '@/styles/globals.css'
import Head from 'next/head'

export default function App({ Component, pageProps }) {
    return (
        <>
            <Head>
                <link rel="preload" href="/fonts/NanumBarunpenR.ttf" as="font" crossOrigin="anonymous" type="font/ttf" />
            </Head>
            <Component {...pageProps} />
        </>
    )
}
```

![](https://velog.velcdn.com/images/jhs000123/post/bda3af72-a09c-4ffd-a4cc-4ade6d25c20c/image.png)


ì´ì œ ë‹¤ì‹œ ë³´ë‹ˆê¹Œ ì´ì „ì— ì ìš©í•œ í°íŠ¸ í™”ë©´ì€ ì œëŒ€ë¡œ ì ìš©ëœ ê²ƒì´ ì•„ë‹ˆì—ˆë˜ ê²ƒ ê°™ë‹¤..

í°íŠ¸ë¥¼ ì—¬ëŸ¬ë²ˆ ê°€ì ¸ì˜¤ëŠ” ì¼ì„ ì—†ì• ê¸° ìœ„í•´ì„œ `next.config.js`ì— ì•„ë˜ headerë¶€ë¶„ì„ ì¶”ê°€í•œë‹¤.

```tsx
/** @type {import('next').NextConfig} */
const nextConfig = {
  reactStrictMode: true,
  compiler: {
    styledComponents: true
  },
  headers: () => {
		return [
			{
				source:  '/fonts/:font*',
				headers: [
					{
						key:  'Cache-Control',
						value:  'public, max-age=31536000, immutable',
					},
				],
			},
		]
	},
}

module.exports = nextConfig
```
ì´ë ‡ê²Œ í•˜ë©´ Link íƒœê·¸ë¡œ í˜ì´ì§€ë¥¼ ì´ë™í•˜ë”ë¼ë„, fontë¥¼ ë‹¤ì‹œ ê°€ì ¸ì˜¤ì§€ ì•ŠëŠ”ë‹¤.


### 7) Head íƒœê·¸ , Script íƒœê·¸
next.js ì—ì„œëŠ” `Head`íƒœê·¸ë¥¼ í†µí•´ì„œ ê° í˜ì´ì§€ë³„ Head íƒœê·¸ë¥¼ ì„¤ì •í•´ì¤„ìˆ˜ ìˆë‹¤. ì•„ë˜ì²˜ëŸ¼ í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ì—ë‹¤ê°€ Head íƒœê·¸ë¥¼ ì‘ì„±í•˜ë©´, ë¸Œë¼ìš°ì €ì— `ê¸€ ìˆëŠ”ê³³` ì´ë¼ëŠ” íƒ€ì´í‹€ì´ í‘œì‹œëœë‹¤. 

```jsx
import { useRouter } from 'next/router'
import React, { useEffect } from 'react'
import * as S from '@/styles/post'
import Image from 'next/image'
import Head from 'next/head'

function Post() {
    const router = useRouter()

    return (
        <>
            <Head>
                <title>ê¸€ ìˆëŠ” ê³³?!</title>
            </Head>
            <S.Container>
                <Image src="/doggy.jpeg" alt="doggy" height={500} width={500} />
                <button onClick={() => router.push({ pathname: '/post/[id]', query: { id: 1 } })}>1ë²ˆ ê¸€ë¡œê°€ê¸°</button>
                <button onClick={() => router.push({ pathname: '/post/[id]', query: { id: 2 } })}>2ë²ˆ ê¸€ë¡œê°€ê¸°</button>
            </S.Container>
        </>
    )
}

export default Post

```
![](https://velog.velcdn.com/images/jhs000123/post/e8f35cc9-3563-41df-837a-9036e5a4f9cd/image.png)



`Script`íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ë©´, ì™¸ë¶€ ìŠ¤í¬ë¦½íŠ¸ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê°€ì ¸ì˜¬ìˆ˜ ìˆë‹¤.
ì•„ë˜ì²˜ëŸ¼ ì‘ì„±í•˜ë©´ jsë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ê³¼ì •ì—ë„ next.js ë§Œì˜ ìµœì í™” ê¸°ë²•ì´ ì ìš©ëœë‹¤.

`pages/post/index.tsx`
```tsx
import React from 'react'
import * as S from '@/styles/post'
import Script from 'next/script'

function Post() {
    return (
        <>
            <Script src="https://example.com/script.js" />
            <S.Container>
                <p>í°íŠ¸ê°€ ì ìš©ëë‚˜ìš”?</p>
            </S.Container>
        </>
    )
}

export default Post
```

### 8) Layout Component í™œìš©(Nav,Footer)

nav, footer ë“± í˜ì´ì§€ ë³„ ê³µí†µ ìš”ì†Œë¥¼ ì‘ì„±í•˜ê¸° ìœ„í•œ Layout ì»´í¬ë„ŒíŠ¸ë¥¼ í•˜ë‚˜ ì‘ì„±í•´ë³´ì
(ì»´í¬ë„ŒíŠ¸ì— ë¶ˆê³¼í•˜ê¸° ë•Œë¬¸ì—, ì´ ì»´í¬ë„ŒíŠ¸ ë‹¨ë…ìœ¼ë¡œ ì •ì  ìƒì„±ì´ ëœë‹¤ê±°ë‚˜ ì„œë²„ ì‚¬ì´ë“œë Œë”ë§ì´ ë˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.)

`components/Layout.jsx`
```jsx
import React from 'react'

function Layout({ children }) {
    return (
        <>
            <nav>ë‚´ë¸Œë°”</nav>
            <main>{children}</main>
            <footer>í‘¸í„°</footer>
        </>
    )
}

export default Layout
```


`_app.js`ì— ì•„ë˜ì²˜ëŸ¼ ì‘ì„±í•˜ë©´ ëœë‹¤.
```jsx
import type { AppProps } from 'next/app'
import '@/styles/globals.css'
import Head from 'next/head'
import Layout from '@/components/Layout'

export default function App({ Component, pageProps }: AppProps) {
    return (
        <>
            <Layout>
                <Head>
                    <link rel="preload" href="/fonts/NanumBarunpenR.ttf" as="font" crossOrigin="anonymous" type="font/ttf" />
                </Head>

                <Component {...pageProps} />
            </Layout>
        </>
    )
}

```

![](https://velog.velcdn.com/images/jhs000123/post/d31f4867-ab8f-43fc-b3e6-985c58fcdc7f/image.png)


ì´ì œ ì–´ëŠ í˜ì´ì§€ë¡œ ê°€ë˜ layoutì´ ë³´ì´ê²Œ ëœë‹¤.


## next.js ì‹¬í™” ê¸°ëŠ¥


### 1) ì •ì  ì‚¬ì´íŠ¸ ìƒì„±(SSG)
ì™¸ë¶€ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì‚¬ì´íŠ¸ë¥¼ SSG ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í•´ë³´ì.
ì™¸ë¶€ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ì§€ ì•ŠëŠ” ê²½ìš°ì—ëŠ” next.jsê°€ ê¸°ë³¸ì ìœ¼ë¡œ SSG ë°©ì‹ìœ¼ë¡œ HTMLì„ ê·¸ë ¤ë†“ëŠ”ë‹¤.
í•˜ì§€ë§Œ ì™¸ë¶€ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²½ìš°, ë”°ë¡œ ì„¤ì •ì„ í•´ì¤˜ì•¼ ë¹Œë“œí• ë•Œ í•´ë‹¹ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì„œ ì €ì¥í•´ ë†“ê³  HTMLì„ ê·¸ë ¤ë‘ê²Œ ëœë‹¤.

- getStaticProps ì‚¬ìš©í•˜ê¸°
ì„¤ì •í•˜ëŠ” ë°©ë²•ì€, í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ì— ì•„ë˜ì™€ ê°™ì€ í•¨ìˆ˜ë¥¼ ì¶”ê°€í•˜ê³ 

```jsx
export async function getStaticProps() {
    ìš”ì²­ì„ ë³´ë‚´ê³  ë°ì´í„° ë°›ì•„ì˜¤ê¸°
    return { props: { ë°ì´í„° } }
}
```

í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ì—ì„œ í•´ë‹¹ ë°ì´í„°ë¥¼ props ë¡œ ë°›ì•„ì˜¤ë“¯ì´ ê°€ì ¸ì˜¤ë©´ ëœë‹¤.
```jsx
function í˜ì´ì§€ì»´í¬ë„ŒíŠ¸({ ë°ì´í„° }) {
    return (
        <div>
        </div>
    )
}
```

í•œë²ˆ í•´ë³´ì ìš°ì„  axiosë¥¼ ì„¤ì¹˜í•œë‹¤. 

Post ì»´í¬ë„ŒíŠ¸ë‚´ë¶€ì— api í˜¸ì¶œì„ í†µí•´ ë°ì´í„°ë¥¼ ë°›ëŠ” í•¨ìˆ˜ë¥¼ ì‘ì„±í•œë‹¤.

```tsx
export async function getStaticProps() {
    const response = await axios.get('https://jsonplaceholder.typicode.com/posts')
    const posts = response.data
    return { props: { posts } }
}
```

ê·¸ëŸ¬ë©´ Post ì»´í¬ë„ŒíŠ¸ì—ì„œ `{posts}` ì™€ ê°™ì€ í˜•íƒœë¡œ í•´ë‹¹ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì„œ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

```jsx
import { useRouter } from 'next/router'
import React, { useEffect } from 'react'
import * as S from '@/styles/post'
import Image from 'next/image'
import Head from 'next/head'
import Script from 'next/script'
import Link from 'next/link'

export async function getStaticProps() {
    const response = await axios.get('https://jsonplaceholder.typicode.com/posts')
    const posts = response.data
    return { props: { posts } }
}

function Post({ posts }) {
    const router = useRouter()

    return (
        <>
            <Head>
                <title>ê¸€ ìˆëŠ” ê³³?!</title>
            </Head>
            <Link href="/">í™ˆìœ¼ë¡œ ê°€ê¸°</Link>
            {posts.map((post) => (
                <div key={post.id}>
                    <h1>{post.title}</h1>
                    <p>{post.body}</p>
                </div>
            ))}
        </>
    )
}

export default Post

```

![](https://velog.velcdn.com/images/jhs000123/post/fcee37f9-c1b1-4369-8aa3-9b4446b32a7c/image.png)


- getStaticPaths ì‚¬ìš©í•˜ê¸°

ì—¬ê¸°ì„œ ë§Œì•½ì— ì˜ˆë¥¼ ë“¤ì–´ì„œ, `post/[id].jsx`ë¥¼ ìœ„í•œ ì •ì  ì‚¬ì´íŠ¸ë¥¼ ìƒì„±í•œë‹¤ê³  ìƒê°í•´ë³´ì.
ë§Œì•½ 1ë²ˆ ê²Œì‹œê¸€ì„ ë¯¸ë¦¬ ë°›ì•„ì™€ì„œ ì •ì  ì‚¬ì´íŠ¸ë¥¼ ìƒì„±í•œë‹¤ë©´?
```jsx
export async function getStaticProps() {
    const response = await axios.get(`https://jsonplaceholder.typicode.com/posts/1`)
    const post = response.data
    return { props: { post } }
}
```
ê·¸ëŸ°ë° ì‚¬ìš©ìëŠ” `post/1`ë¡œë„ ì ‘ê·¼í• ìˆ˜ ìˆê³ , `post/2`ë¡œ ì ‘ê·¼í•  ìˆ˜ë„ ìˆë‹¤.
ê·¸ë ‡ë‹¤ë©´ íŠ¹ì • ê²Œì‹œê¸€ì„ ìœ„í•œ ì •ì  ì‚¬ì´íŠ¸ ìƒì„±ì„ ìœ„í•´ì„œëŠ”, 
- ìœ ì €ê°€ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ëª¨ë“  idë²ˆí˜¸ê°€ ë¬´ì—‡ë¬´ì—‡ì´ ìˆëŠ”ì§€ ì°¾ê³  (getStaticPaths)
- í•´ë‹¹ ë²ˆí˜¸ë§ˆë‹¤ ìš”ì²­ì„ ë³´ë‚´ì„œ ê²Œì‹œê¸€ì„ ì €ì¥í•´ë†“ì•„ì•¼í•œë‹¤. (getStaticProps)

ì¦‰, getStaticPathsëŠ” ìœ ì €ê°€ ì ‘ê·¼ ê°€ëŠ¥í•œ ë™ì  ë¼ìš°íŠ¸ ì£¼ì†Œê°€ ë¬´ì—‡ì´ ìˆëŠ”ì§€ë¥¼ ì§€ì •í•´ì£¼ëŠ” í•¨ìˆ˜ì¸ ê²ƒì´ë‹¤.

ë§Œì•½ì— postë¥¼ ê°€ì ¸ì˜¨ë‹¤ë©´, ì•„ë˜ì²˜ëŸ¼ ì „ì²´ ë¦¬ìŠ¤íŠ¸ë¥¼ ê°€ì ¸ì˜¤ë„ë¡ ìš”ì²­ë³´ë‚´ê³ , id ë¶€ë¶„ë§Œ ì¶”ì¶œí•´ì„œ í•˜ë‚˜ì˜ ë°°ì—´ì—ë‹¤ê°€ ì €ì¥í•˜ë©´ëœë‹¤. í˜„ì¬ postsëŠ” 100ë²ˆ ê¹Œì§€ ìˆìœ¼ë¯€ë¡œ ,[{ params: { id: 1 } }, { params: { id: 2 } }, â€¦. , { params: { id: 100 } }] í˜•íƒœì˜ ë°°ì—´ì´ ìƒì„±ëœë‹¤. idê°’ì€ ë¬¸ìì—´ë¡œ ì‘ì„±í•´ì¤˜ì•¼í•¨

```jsx
export async function getStaticPaths() {
    const response = await axios.get(`https://jsonplaceholder.typicode.com/posts`)
    const posts = response.data
    const paths = posts.map((post) => ({ params: { id: `${post.id}` } }))
    return { paths, fallback: false }
}
```
fallback ê°™ì€ ê²½ìš°ëŠ” 3ê°€ì§€ ì˜µì…˜ì´ ìˆëŠ”ë°,
- false: ë¯¸ë¦¬ ë°ì´í„°ë¥¼ ë°›ì•„ë†“ì€ pathê°€ ì•„ë‹ˆë¼ë©´ 404 í˜ì´ì§€ë¡œ ì´ë™
 -> ë°ì´í„°ê°€ í•œì •ëœ ê²½ìš° ì´ ë°©ì‹ì„ ì‚¬ìš©
 - true: ë¯¸ë¦¬ ë°ì´í„°ë¥¼ ë°›ì•„ë†“ì€ pathê°€ ì•„ë‹ˆë¼ë©´ ìš”ì²­ì‹œ í•´ë‹¹ pathì— ëŒ€í•œ HTMLê³¼ JSONë°ì´í„°ë¥¼ ì •ì ìœ¼ë¡œ ìƒì„±í•˜ë©´ì„œ, ë¡œë”©ì„ ë³´ì—¬ì¤Œ(í•˜ë„™ã„´ ìƒì„±í•˜ë©´ ìºì‹±ë¨)
 -> ë°ì´í„°ê°€ ë„ˆë¬´ ë§ì€ ê²½ìš°ì— ì´ë°©ì‹ì„ ì‚¬ìš©
 - blocking: ë¯¸ë¦¬ ë°ì´í„°ë¥¼ ë°›ì•„ë†“ì€ pathê°€ ì•„ë‹ˆë¼ë©´ ìš”ì²­ì‹œ í•´ë‹¹ pathì— ëŒ€í•œ HTMLê³¼ JSON ë°ì´í„°ë¥¼ ì •ì ìœ¼ë¡œ ìƒì„±í•˜ë©´ì„œ, ë¡œë”©ì„ ë³´ì—¬ì£¼ì§€ ì•ŠìŒ(ë¡œë”©ì´ ì™„ë£Œë˜ì–´ì•¼ í˜ì´ì§€ë¥¼ ë³´ì—¬ì¤Œ, í•œë²ˆ ìƒì„±í•˜ë©´ ìºì‹±ë¨)
 
 ë¡œë”©ì‹œ ë³´ì—¬ì¤„ í˜ì´ì§€ëŠ”, í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ì— ì•„ë˜ì™€ ê°™ì€ ì½”ë“œë¥¼ ì¶”ê°€í•´ì„œ ì‘ì„±í•´ì¤„ìˆ˜ ìˆë‹¤.
 
 ```jsx
const router = useRouter()

if (router.isFallback) {
    return <div>ë¡œë”© ì¤‘..</div>
}
 ```
 
 ë§Œì•½ getStaticPathsë¥¼ ì‘ì„±í–ˆë‹¤ë©´, ì´ì œ ì•„ë˜ì™€ ê°™ì´ getStaticPropsë¥¼ ì‘ì„±í•˜ê³  í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°ì´í„°ë¥¼ ì‚¬ìš©í•´ì£¼ë©´ ëœë‹¤.
 
 ```jsx
// getStaticPaths ì—ì„œ ë¦¬í„´í•œ paths ë‚´ë¶€ ê°’ì„ ì¸ì í˜•íƒœë¡œ ë°›ì•„ì˜¬ ìˆ˜ ìˆìŒ 
export async function getStaticProps({ params }) {
    const response = await axios.get(`https://jsonplaceholder.typicode.com/posts/${params.id}`)
    const post = response.data
    return { props: { post } }
}
 ```
 
 ì´ì œ ë¹Œë“œí• ë•Œ 1ë²ˆ ê²Œì‹œê¸€ë¶€í„° 100ë²ˆ ê²Œì‹œê¸€ ëª¨ë‘ì— ìš”ì²­ì„ ë³´ë‚´ê³  ë°ì´í„°ë¥¼ ì €ì¥í•´ë‘ê²Œ ëœë‹¤.
 
 > ì •ì  ì‚¬ì´íŠ¸ ìƒì„± ë°©ì‹ì€ ë°ì´í„°ë¥¼ ë¯¸ë¦¬ ë°›ì•„ì„œ ì €ì¥í•´ë†“ê¸° ë•Œë¬¸ì—, ì˜ˆì „ ë°ì´í„°ë¥¼ ë³´ì—¬ì¤„ ê°€ëŠ¥ì„±ì´ ìˆë‹¤. ë§Œì•½ ì§€ì†ì ìœ¼ë¡œ ë°ì´í„°ê°€ ì—…ë°ì´íŠ¸ ë˜ëŠ” ê²½ìš°ë¼ë©´, ì„œë²„ì‚¬ì´ë“œ ë Œë”ë§ì„ ì‚¬ìš©í•˜ë˜, ê·¸ ì™¸ì˜ ê²½ìš°ëŠ” SSGë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì™œëƒê³ ? SSGê°€ ì„±ëŠ¥ì´ ë” ì¢‹ìœ¼ë‹ˆê¹Œ
 
 > yarn dev ë¡œ ì‹¤í–‰í•œ ê²½ìš°ì—ëŠ” SSGë¡œ êµ¬í˜„í•´ë†“ì€ ì½”ë“œë¼ë„ SSRê³¼ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ì‘ë™í•œë‹¤.(ì•„ì§ ë¹Œë“œí•˜ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ)
 
 
 ### 2) SSG ì˜ ë‹¨ì  í•´ê²°í•˜ê¸° (ISR)
 
 ISR(Incremental Static regeneration)ë€ í•´ë‹¹ ì£¼ê¸°ë§ˆë‹¤ ë‹¤ì‹œ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì„œ ì •ì  ì‚¬ì´íŠ¸ì— ê·¸ë ¤ë†“ëŠ” ë°©ì‹ì„ ë§í•œë‹¤. 
 ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” getStaticPropsì— `revalidate`ë¥¼ ëª…ì‹œí•´ì£¼ë©´ ëœë‹¤.
 
 
 ```jsx
export async function getStaticProps() {
    const response = await axios.get('https://jsonplaceholder.typicode.com/posts')
    const posts = response.data
    return { props: { posts }, revalidate: 10 }
}
 ```
 ë§Œì•½ ìœ„ì²˜ë¦„ revalidate ê°’ì„ 10ìœ¼ë¡œ í•´ë†“ìœ¼ë©´, ì •ì  ì‚¬ì´íŠ¸ê°€ ìƒì„±ë˜ê³  10ì´ˆë™ì•ˆ ì €ì¥í•´ë†“ì€ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ê²Œ ëœë‹¤. (ì •ì  ì‚¬ì´íŠ¸ê°€ ìƒì„±ë˜ê³  10ì´ˆë™ì•ˆì€ ì‚¬ì´íŠ¸ì— ì ‘ì†í•œ ëˆ„êµ¬ë“ ì§€ ë™ì¼í•œ ë°ì´í„°ë¥¼ ë³´ê²Œëœë‹¤.)
 
10ì´ˆê°€ ì§€ë‚œ ë’¤ì— ëˆ„êµ°ê°€ê°€ ë‹¤ì‹œ í•´ë‹¹ ì‚¬ì´íŠ¸ì— ì ‘ê·¼í•œë‹¤ë©´, Next.jsëŠ” ê·¸ì œì„œì•¼ í•´ë‹¹ ìš”ì²­ì„ ë‹¤ì‹œ ë³´ë‚´ê³  ì—…ë°ì´íŠ¸ëœ ë°ì´í„°ë¥¼ ë˜ 10ì´ˆë™ì•ˆ ì €ì¥í•´ë†“ê³  ì‚¬ìš©ìë“¤ì—ê²Œ ë³´ì—¬ì£¼ê²Œ ëœë‹¤.

### 3) ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ êµ¬í˜„(SSR)

ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ì€ `getServerSideProps`í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤. ì‚¬ìš©ë°©ì‹ì€ SSGì™€ ë™ì¼í•¨

í•¨ìˆ˜ ì´ë¦„ë§Œ ë³€ê²½í•´ì£¼ëŠ” ëŠë‚Œìœ¼ë¡œ ì‘ì„±í•˜ë©´ ëœë‹¤!

```jsx
import axios from 'axios'
import Link from 'next/link'
import React from 'react'

export async function getServerSideProps() {
    const response = await axios.get('https://jsonplaceholder.typicode.com/posts')
    const posts = response.data
    return { props: { posts } }
}

function Post({ posts }) {
    return (
        <div>
            <Link href="/">í™ˆìœ¼ë¡œ ê°€ê¸°</Link>
            {posts.map((post) => (
                <div key={post.id}>
                    <Link href={`/post/${post.id}`}>
                        <h1>{post.title}</h1>
                    </Link>
                </div>
            ))}
        </div>
    )
}

export default Post
```

 
 ![ì—…ë¡œë“œì¤‘..](blob:https://velog.io/50852936-0186-4cbc-8c0b-662c45a65e9a)

í™ˆìœ¼ë¡œ ê°€ê¸° ë²„íŠ¼ì„ ëˆŒë €ë‹¤ê°€ ë‹¤ì‹œ post ë¡œ ì˜¤ë©´, ìœ„ì™€ ê°™ì´ ì €ì¥í•´ë†“ì€ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì•Œìˆ˜ ìˆë‹¤. (ì„œë²„ì‚¬ì´ë“œ ë Œë”ë§/ ì •ì  ì‚¬ì´íŠ¸ ìƒì„±ì€ htmlê³¼ jsonì„ í™œìš©í•´ì„œ ë¯¸ë¦¬ ë°ì´í„°ë¥¼ ë„£ì–´ë†“ëŠ”ë‹¤!)

ì´ì œ ì‚¬ìš©ìê°€ í•´ë‹¹ í˜ì´ì§€ë¡œ ì ‘ê·¼í•  ë•Œë§ˆë‹¤, Next.jsëŠ” ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ìš”ì²­ì„ ë‹¤ì‹œ ë³´ë‚´ê³  í•´ë‹¹ ë°ì´í„°ë¥¼ ì €ì¥í•œë‹¤ë©´

getServerSidePathsë„ ìˆì„ê¹Œ?

- ì—†ë‹¤. ë¹Œë“œí• ë•Œ ë¯¸ë¦¬ ê°ê°ì˜ ê²Œì‹œê¸€ì„ ê°€ì ¸ì˜¤ëŠ”ê²Œ ì•„ë‹ˆë¼, ìœ ì €ê°€ íŠ¹ì •í•œ ê²Œì‹œê¸€ì„ ì •í•´ì„œ ìš”ì²­ì„ ë³´ë‚´ë©´ ê·¸ì œì„œì•¼ ë°ì´í„°ë¥¼ ë°›ì•„ì™€ì„œ ê·¸ë¦¬ëŠ” ê²ƒì´ë¯€ë¡œ, ë‹¹ì—°íˆ getServerSidePathsëŠ” ì—†ë‹¤.

> ì •ë§ ì—…ë°ì´íŠ¸ê°€ ì¦ì€ ê²½ìš°ê°€ ì•„ë‹ˆë¼ë©´, SSR ë°©ì‹ë³´ë‹¤ëŠ” SSGë°©ì‹ì— revalidate ì˜µì…˜ì„ ëª…ì‹œí•˜ë©´ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•œë‹¤.

> getInitialPropsë¼ëŠ” ê¸°ëŠ¥ë„ ìˆì§€ë§Œ, nextê°€ ì—…ë°ì´íŠ¸ ë˜ë©´ì„œ getServerSidePropsê°€ ì‚¬ì‹¤ìƒ í•´ë‹¹ ê¸°ëŠ¥ì„ ëŒ€ì²´í•˜ê²Œ ë˜ì—ˆë‹¤.


